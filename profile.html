<!DOCTYPE html>
<html>
<head>
<title>My Profile | AquaTag</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{font-family:Poppins;background:#f0faff}
.card{max-width:600px;margin:60px auto;background:white;padding:30px;border-radius:20px}
label{font-weight:600;color:#03045e}
p{margin:6px 0}
button{margin-top:20px;width:100%;background:#03045e;color:white;padding:12px;border:none;border-radius:10px;font-weight:700}
</style>
</head>

<body>

<div class="card">
<h2>My Profile</h2>

<p><label>Name:</label> <span id="name"></span></p>
<p><label>Business:</label> <span id="business"></span></p>
<p><label>Phone:</label> <span id="phone"></span></p>
<p><label>Address:</label> <span id="address"></span></p>
<p><label>Email:</label> <span id="email"></span></p>

<button onclick="location.href='myorders.html'">Back to Orders</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
firebase.initializeApp({
 apiKey:"AIzaSyDqhSH9crtmW5iEA-hsFudxHng4pZw860g",
 authDomain:"aquatag-ef3cd.firebaseapp.com",
 projectId:"aquatag-ef3cd"
});

const auth=firebase.auth();
const db=firebase.firestore();

auth.onAuthStateChanged(u=>{
 if(!u){ location.href="/aquatag/dashboard.html"; return;}

 document.getElementById("email").innerText=u.email;

 db.collection("users").doc(u.uid).get().then(d=>{
   let x=d.data();
   name.innerText=x.name;
   business.innerText=x.business;
   phone.innerText=x.phone;
   address.innerText=x.address;
 });
});
</script>

</body>
</html>
