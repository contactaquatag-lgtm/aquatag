<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AquaTag Orders</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root { --primary:#0077b6; --ocean:#03045e; --sky:#00b4d8; --crystal:#caf0f8; }
*{font-family:Poppins;margin:0;padding:0;box-sizing:border-box}
body{background:#f0faff;padding:40px}

.container{max-width:800px;margin:auto;background:white;padding:40px;border-radius:30px}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:20px}
input,textarea{width:100%;padding:12px;border:2px solid var(--crystal);border-radius:10px}
.quantity{background:var(--crystal);padding:20px;border-radius:15px;margin:20px 0}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.box{background:white;padding:10px;border-radius:10px;text-align:center}
button{width:100%;background:var(--ocean);color:white;padding:15px;border:none;border-radius:12px;font-weight:700}
</style>
</head>

<body>

<div class="container">

<h2>Place Order</h2>

<div class="quantity">
<div class="grid">
<div class="box">250ml<input id="q250" type="number"></div>
<div class="box">500ml<input id="q500" type="number"></div>
<div class="box">1L<input id="q1" type="number"></div>
<div class="box">2L<input id="q2" type="number"></div>
</div>
</div>

<textarea id="address" placeholder="Delivery Address"></textarea><br><br>

<button onclick="place()">Submit Order</button>

<hr><br>

<div id="list"></div>

</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
firebase.initializeApp({
 apiKey:"AIzaSyDqhSH9crtmW5iEA-hsFudxHng4pZw860g",
 authDomain:"aquatag-ef3cd.firebaseapp.com",
 projectId:"aquatag-ef3cd"
});

const auth=firebase.auth();
const db=firebase.firestore();

function place(){
auth.onAuthStateChanged(u=>{
let id="AQ"+Date.now();

db.collection("orders").doc(id).set({
orderId:id,
uid:u.uid,
q250:q250.value,
q500:q500.value,
q1:q1.value,
q2:q2.value,
address:address.value,
status:"Pending"
});

alert("Order "+id+" placed");
});
}

auth.onAuthStateChanged(u=>{
db.collection("orders").where("uid","==",u.uid)
.onSnapshot(s=>{
list.innerHTML="";
s.forEach(d=>{
let o=d.data();
list.innerHTML+=`<p>${o.orderId} | ${o.status}</p>`;
});
});
});
</script>

</body>
</html>
